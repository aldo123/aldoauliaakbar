<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WIK BT - TPM | Executive Dashboard</title>

  <link rel="stylesheet" href="project-state.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<!-- ================= DASHBOARD SCALE WRAPPER ================= -->
<div class="dashboard-scale">

<!-- ================= PROJECT STATE ================= -->
<div class="project-state-wrapper p-3">
  <h4 class="fw-bold mb-3">Project State ‚Äî Engineering Summary</h4>

  <!-- ROW 1 -->
  <div class="row g-3 align-items-stretch">

    <div class="col-lg-4 d-flex">
      <div class="chart-card equal-card w-100">
        <h6 class="chart-title">Engineer Task Status</h6>
        <div class="chart-container-h">
          <canvas id="chartEngineer" width="520" height="220"></canvas>
        </div>
      </div>
    </div>

    <div class="col-lg-3 d-flex">
      <div class="chart-card equal-card w-100">
        <h6 class="chart-title">Project Type Status</h6>
        <div class="chart-container-v">
          <canvas id="chartType" width="360" height="220"></canvas>
        </div>
      </div>
    </div>

    <div class="col-lg-2 d-flex">
      <div class="chart-card donut-card equal-card w-100">
        <h6 class="chart-title">Engineer Performance</h6>
        <div id="donutTaskInfo"></div>
        <div class="donut-wrap">
          <canvas id="chartDonut" width="160" height="160"></canvas>
          <div class="donut-center" id="donutCenterLabel">0%</div>
        </div>
      </div>
    </div>

    <div class="col-lg-3 d-flex">
      <div class="card shadow-sm equal-card w-100">
        <div class="card-header fw-bold">Technician Performance</div>
        <div class="tech-scroll" style="max-height:230px;">
          <div id="techPerformanceChart"></div>
        </div>
      </div>
    </div>

  </div>

  <!-- ROW 2 -->
  <!-- ROW 2 : INDICATOR GRID -->
  <div class="indicator-grid mt-3">

    <div class="pr-card" id="cardPrPoOverdue">
      <div class="pr-icon">‚ö†Ô∏è</div>
      <div class="pr-info">
        <h6>PR/PO Overdue</h6>
        <h2 id="prOverdueCount">0</h2>
        <small>task</small>
      </div>
    </div>

    <div class="prongoing-card" id="cardPrPoOngoing">
      <div class="pr-icon">‚è≥</div>
      <div class="pr-info">
        <h6>PR/PO Ongoing</h6>
        <h2 id="prOngoingCount">0</h2>
        <small>task</small>
      </div>
    </div>

    <div class="pmoverdue-card" id="cardPmOverdue">
      <div class="pm-icon">‚ö†Ô∏è</div>
      <div class="pm-info">
        <h6>PM Overdue</h6>
        <h2 id="pmOverdueCount">0</h2>
        <small>task</small>
      </div>
    </div>

    <div class="pmongoing-card" id="cardPmOngoing">
      <div class="pm-icon">‚è≥</div>
      <div class="pm-info">
        <h6>PM Ongoing</h6>
        <h2 id="pmOngoingCount">0</h2>
        <small>task</small>
      </div>
    </div>

    <div class="pmdone-card">
      <div class="pm-icon">‚úîÔ∏è</div>
      <div class="pm-info">
        <h6>PM Done</h6>
        <h2 id="pmDoneCount">0</h2>
        <small>task</small>
      </div>
    </div>

    <div class="pmreject-card">
      <div class="pm-icon">‚úñÔ∏è</div>
      <div class="pm-info">
        <h6>PM Reject</h6>
        <h2 id="pmRejectCount">0</h2>
        <small>task</small>
      </div>
    </div>

  </div>

</div>
<!-- ================= END PROJECT STATE ================= -->


<!-- ================= CALIBRATION ================= -->
<div class="calibration-wrapper">
  <div class="calibration-header">
    <h4>üß™ Calibration Schedule</h4>
  </div>

  <div class="row g-3 mb-4">
    <div class="col-md-4">
      <div class="summary-card ok">
        <h6>Calibrated</h6>
        <span id="okCount">0</span> Equipment
      </div>
    </div>
    <div class="col-md-4">
      <div class="summary-card due">
        <h6>Due Soon</h6>
        <span id="dueCount">0</span> Equipment
      </div>
    </div>
    <div class="col-md-4">
      <div class="summary-card overdue">
        <h6>Overdue</h6>
        <span id="overdueCount">0</span> Equipment
      </div>
    </div>
  </div>

  <div class="calibration-table-wrapper">
    <table class="table calibration-table">
      <thead>
        <tr>
          <th>Code</th>
          <th>Group Equipment</th>
          <th>SN</th>
          <th>Last Calibration</th>
          <th>Next Due</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="calibrationBody"></tbody>
    </table>
  </div>
</div>


<!-- ================= SPARE PART ================= -->
<div class="spm-wrapper">

  <div class="spm-header">
    <h3>üõ†Ô∏è Spare Part Management</h3>
  </div>

  <div class="row g-4 mb-4 spm-summary">

    <div class="col-md-3">
      <div class="spm-card incoming">
        <div class="spm-icon"><i class="bi bi-box-arrow-in-down"></i></div>
        <div class="spm-info">
          <h6>Incoming</h6>
          <h2><span id="incomingValue">0</span> <small>pcs</small></h2>
          <span class="sub">Today</span>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="spm-card outgoing">
        <div class="spm-icon"><i class="bi bi-box-arrow-up"></i></div>
        <div class="spm-info">
          <h6>Outgoing</h6>
          <h2><span id="outgoingValue">0</span> <small>pcs</small></h2>
          <span class="sub">Today</span>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="spm-card lowstock" id="cardLowStock">
        <div class="spm-icon"><i class="bi bi-exclamation-triangle"></i></div>
        <div class="spm-info">
          <h6>Low Stock</h6>
          <h2><span id="lowStockCount">0</span> <small>Items</small></h2>
          <span class="sub">Below Min Qty</span>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="spm-card totalsku">
        <div class="spm-icon"><i class="bi bi-collection"></i></div>
        <div class="spm-info">
          <h6>Total Part</h6>
          <h2><span id="totalSkuValue2">0</span> / <span id="totalSkuValue">0</span><small> Items</small></h2>
          <span class="sub">Registered Parts</span>
        </div>
      </div>
    </div>

  </div>

  <div class="card table-card">
    <div class="card-header">
      <h5 class="mb-0">Transaction Log</h5>
    </div>

    <div class="spm-table-wrapper">
      <table class="table table-dark table-hover align-middle mb-0">
        <thead>
          <tr>
            <th>No</th>
            <th>Date & Time</th>
            <th>Part Name</th>
            <th>IN/OUT</th>
            <th>Quantity</th>
            <th>PIC</th>
            <th>Remarks</th>
          </tr>
        </thead>
        <tbody id="logBody"></tbody>
      </table>
    </div>
  </div>

</div>

<div id="ps-tooltip" class="ps-tooltip"></div>

</div>
<!-- ================= END DASHBOARD SCALE ================= -->

<script type="module" src="project-state.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
