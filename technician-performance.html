<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Preventive Maintenance</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="technician-performance.css">
</head>

<body>


<!-- ================= DASHBOARD TOP ROW ================= -->
<div class="dashboard-top-row">

  <!-- TECHNICIAN PERFORMANCE -->
  <div class="dash-card dash-tech">
    <div class="dash-card-header">Technician Performance</div>
    <div class="dash-card-body tech-scroll">
      <div id="techPerformanceChart"></div>
    </div>
  </div>

  <!-- EXECUTION BY MONTH -->
  <div class="dash-card dash-month">
    <div class="dash-card-header">% Execution by Month</div>
    <div class="dash-card-body month-scroll">
      <div id="executionMonthChart"></div>
    </div>
  </div>

  <!-- PM INDICATORS -->
  <div class="dash-card dash-pm">
    <div class="pm-indicator-grid">

      <div class="pm-indicator overdue" id="cardPmOverdue">
        <span>‚ö†Ô∏è PM Overdue</span>
        <strong id="pmOverdueCount">0</strong>
      </div>

      <div class="pm-indicator ongoing" id="cardPmOngoing">
        <span>‚è≥ PM Ongoing</span>
        <strong id="pmOngoingCount">0</strong>
      </div>

      <div class="pm-indicator done" id="cardPmDone">
        <span>‚úîÔ∏è PM Done</span>
        <strong id="pmDoneCount">0</strong>
      </div>

      <div class="pm-indicator reject" id="cardPmReject">
        <span>‚úñÔ∏è PM Reject</span>
        <strong id="pmRejectCount">0</strong>
      </div>

    </div>
  </div>

</div>




<div class="pm-wrapper">

  <div class="pm-header">
    <h4>üõ† Preventive Maintenance</h4>
    <div class="pm-actions">
      <button id="btnAdd" class="btn btn-success btn-sm">‚ûï Add</button>
      <button id="btnExport" class="btn btn-outline-light btn-sm">üì§ Export</button>
      <button id="btnImport" class="btn btn-outline-light btn-sm">üì• Import</button>
      <input type="file" id="importFile" hidden accept=".xlsx,.xls">
    </div>
  </div>

  <div class="row g-2 mb-3 align-items-end">

    <div class="col-md-2">
      <label class="form-label">Week</label>
      <select id="filterWeek" class="form-select">
        <option value="">All</option>
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label">Equipment Type</label>
      <select id="filterEquipment" class="form-select">
        <option value="">All</option>
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label">Machine #</label>
      <select id="filterMachine" class="form-select">
        <option value="">All</option>
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label">Responsible</label>
      <select id="filterResponsible" class="form-select">
        <option value="">All</option>
      </select>
    </div>

    <div class="col-md-2">
      <label class="form-label">Status</label>
      <select id="filterStatus" class="form-select">
        <option value="">All</option>
        <option value="Done">Done</option>
        <option value="Ongoing">Ongoing</option>
        <option value="Delay">Delay</option>
        <option value="Reject">Reject</option>
        <option value="Open">Open</option> 
      </select>
    </div>


  </div>

  <div class="pm-table-wrapper">
    <table class="table table-hover pm-table">
      <thead>
        <tr>
          <th>No</th>
          <th>Equipment Type</th>
          <th>Machine</th>
          <th>Item</th>
          <th>Criteria</th>
          <th>Action</th>
          <th>Time</th>
          <th>Frequency</th>
          <th>Annual Maintenance</th>
          <th>Week</th>
          <th>Month</th>
          <th>Responsible</th>
          <th>Status</th>
          <th>Date Completed</th>
          <th>Week Completed</th>
          <th>Point Summary</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="pmBody"></tbody>
    </table>
  </div>

</div>

<!-- MODAL -->
<div class="modal fade" id="pmModal" tabindex="-1">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">Preventive Maintenance</h5>
        <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <div class="row g-3">

          <input type="hidden" id="editKey">

          <div class="col-md-3"><input id="f_equipmentType" class="form-control" placeholder="Equipment Type"></div>
          <div class="col-md-3"><input id="f_machine" class="form-control" placeholder="Machine"></div>
          <div class="col-md-3"><input id="f_item" class="form-control" placeholder="Item"></div>
          <div class="col-md-3"><input id="f_criteria" class="form-control" placeholder="Criteria"></div>

          <div class="col-md-6"><input id="f_actionTask" class="form-control" placeholder="Action"></div>
          <div class="col-md-2"><input id="f_time" class="form-control" placeholder="Time"></div>
          <div class="col-md-2"><input id="f_frequency" class="form-control" placeholder="Frequency"></div>
          <div class="col-md-2"><input id="f_annual" class="form-control" placeholder="Annual"></div>

          <div class="col-md-2"><input id="f_week" class="form-control" placeholder="Week"></div>
          <div class="col-md-2"><input id="f_month" class="form-control" placeholder="Month"></div>
          <div class="col-md-3"><input id="f_responsible" class="form-control" placeholder="Responsible"></div>

          <div class="col-md-3">
            <select id="f_status" class="form-select">
              <option>Ongoing</option>
              <option>Done</option>
              <option>Delay</option>
            </select>
          </div>

          <div class="col-md-3"><input id="f_dateCompleted" type="date" class="form-control"></div>
          <div class="col-md-3"><input id="f_weekCompleted" class="form-control" placeholder="Week Completed"></div>
          <div class="col-md-3"><input id="f_point" type="number" class="form-control" placeholder="Point Summary"></div>

        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn-secondary" id="btnCancel">Cancel</button>
        <button class="btn btn-success" id="btnSave">Save</button>
      </div>

    </div>
  </div>
</div>

<div id="ps-tooltip" class="ps-tooltip"></div>


<!-- Module JS kamu -->
<script type="module" src="technician-performance.js"></script>


</body>
</html>
